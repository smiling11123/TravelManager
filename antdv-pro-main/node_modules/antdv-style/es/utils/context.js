import { createGlobalState as u } from "@vueuse/core";
import { defineComponent as C, provide as i, inject as m } from "vue";
const x = u(() => {
  const t = /* @__PURE__ */ new WeakMap();
  return {
    setContext: (e, c) => {
      t.set(c, e);
    },
    getContext: (e) => t.get(e)
  };
});
function p(t) {
  const n = Symbol("key"), { setContext: r } = x(), e = {
    key: n,
    Provider: C((c, { slots: o }) => (i(n, c.value), () => {
      var a;
      return (a = o == null ? void 0 : o.default) == null ? void 0 : a.call(o);
    }))
  };
  return r(t, e), e;
}
function d(t) {
  const { getContext: n } = x(), r = n(t);
  return m(t.key, r);
}
export {
  p as createContext,
  d as useContext
};
