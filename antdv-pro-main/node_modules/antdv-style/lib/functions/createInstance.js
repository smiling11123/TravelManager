"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const S=require("../core/CacheManager.js"),x=require("../core/createCSS.js"),T=require("@emotion/css/create-instance"),f=require("../core/createSerializeStyles.js"),g=require("../factories/createEmotionContext.js"),s=require("../utils/context.js"),q=require("../factories/createUseTheme.js"),_=require("../factories/createStyles/index.js"),E=require("../factories/createThemeProvider/index.js"),a=new S.CacheManager;typeof global<"u"&&(global.__ANTD_STYLE_CACHE_MANAGER_FOR_SSR__=a);function k(r){var n;const e={...r,key:r.key??"zcss",speedy:r.speedy??!1},t=T({key:e.key,speedy:e.speedy,container:e.container}),i=g.createEmotionContext(t);t.cache=a.add(t.cache);const y=s.createContext(e.customToken?e.customToken:{}),h=(n=e.styled)==null?void 0:n.ThemeContext,o=s.createContext({CustomThemeContext:y,StyledThemeContext:h,prefixCls:e==null?void 0:e.prefixCls}),c=q.createUseTheme({StyleEngineContext:o}),l=_.createStylesFactory({hashPriority:e.hashPriority,useTheme:c,EmotionContext:i}),C=E.createThemeProvider({styledConfig:e.styled,StyleEngineContext:o,useTheme:c}),{cx:d}=x.createCSS(t.cache,{hashPriority:e.hashPriority}),{injectGlobal:m,keyframes:u}=t;return{createStyles:l,styleManager:t,css:f.serializeCSS,cx:d,keyframes:u,injectGlobal:m,useTheme:c,ThemeProvider:C}}exports.createInstance=k;
