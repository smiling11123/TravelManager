{"version":3,"file":"toml-CsK9Qheq.js","names":[],"sources":["../../@codemirror/legacy-modes/mode/toml.js"],"sourcesContent":["export const toml = {\n  name: \"toml\",\n  startState: function () {\n    return {\n      inString: false,\n      stringType: \"\",\n      lhs: true,\n      inArray: 0\n    };\n  },\n  token: function (stream, state) {\n    //check for state changes\n    let quote\n    if (!state.inString && (quote = stream.match(/^('''|\"\"\"|'|\")/))) {\n      state.stringType = quote[0]\n      state.inString = true; // Update state\n    }\n    if (stream.sol() && !state.inString && state.inArray === 0) {\n      state.lhs = true;\n    }\n    //return state\n    if (state.inString) {\n      while (state.inString) {\n        if (stream.match(state.stringType)) {\n          state.inString = false; // Clear flag\n        } else if (stream.peek() === '\\\\') {\n          stream.next();\n          stream.next();\n        } else if (stream.eol()) {\n          break\n        } else {\n          stream.match(/^.[^\\\\\\\"\\']*/);\n        }\n      }\n      return state.lhs ? \"property\" : \"string\"; // Token style\n    } else if (state.inArray && stream.peek() === ']') {\n      stream.next();\n      state.inArray--;\n      return 'bracket';\n    } else if (state.lhs && stream.peek() === '[' && stream.skipTo(']')) {\n      stream.next();//skip closing ]\n      // array of objects has an extra open & close []\n      if (stream.peek() === ']') stream.next();\n      return \"atom\";\n    } else if (stream.peek() === \"#\") {\n      stream.skipToEnd();\n      return \"comment\";\n    } else if (stream.eatSpace()) {\n      return null;\n    } else if (state.lhs && stream.eatWhile(function (c) { return c != '=' && c != ' '; })) {\n      return \"property\";\n    } else if (state.lhs && stream.peek() === \"=\") {\n      stream.next();\n      state.lhs = false;\n      return null;\n    } else if (!state.lhs && stream.match(/^\\d\\d\\d\\d[\\d\\-\\:\\.T]*Z/)) {\n      return 'atom'; //date\n    } else if (!state.lhs && (stream.match('true') || stream.match('false'))) {\n      return 'atom';\n    } else if (!state.lhs && stream.peek() === '[') {\n      state.inArray++;\n      stream.next();\n      return 'bracket';\n    } else if (!state.lhs && stream.match(/^\\-?\\d+(?:\\.\\d+)?/)) {\n      return 'number';\n    } else if (!stream.eatSpace()) {\n      stream.next();\n    }\n    return null;\n  },\n  languageData: {\n    commentTokens: { line: '#' },\n  },\n};\n"],"mappings":";AAAA,MAAa,OAAO;CAClB,MAAM;CACN,YAAY,WAAY;AACtB,SAAO;GACL,UAAU;GACV,YAAY;GACZ,KAAK;GACL,SAAS;GACV;;CAEH,OAAO,SAAU,QAAQ,OAAO;EAE9B,IAAI;AACJ,MAAI,CAAC,MAAM,aAAa,QAAQ,OAAO,MAAM,iBAAiB,GAAG;AAC/D,SAAM,aAAa,MAAM;AACzB,SAAM,WAAW;;AAEnB,MAAI,OAAO,KAAK,IAAI,CAAC,MAAM,YAAY,MAAM,YAAY,EACvD,OAAM,MAAM;AAGd,MAAI,MAAM,UAAU;AAClB,UAAO,MAAM,SACX,KAAI,OAAO,MAAM,MAAM,WAAW,CAChC,OAAM,WAAW;YACR,OAAO,MAAM,KAAK,MAAM;AACjC,WAAO,MAAM;AACb,WAAO,MAAM;cACJ,OAAO,KAAK,CACrB;OAEA,QAAO,MAAM,eAAe;AAGhC,UAAO,MAAM,MAAM,aAAa;aACvB,MAAM,WAAW,OAAO,MAAM,KAAK,KAAK;AACjD,UAAO,MAAM;AACb,SAAM;AACN,UAAO;aACE,MAAM,OAAO,OAAO,MAAM,KAAK,OAAO,OAAO,OAAO,IAAI,EAAE;AACnE,UAAO,MAAM;AAEb,OAAI,OAAO,MAAM,KAAK,IAAK,QAAO,MAAM;AACxC,UAAO;aACE,OAAO,MAAM,KAAK,KAAK;AAChC,UAAO,WAAW;AAClB,UAAO;aACE,OAAO,UAAU,CAC1B,QAAO;WACE,MAAM,OAAO,OAAO,SAAS,SAAU,GAAG;AAAE,UAAO,KAAK,OAAO,KAAK;IAAO,CACpF,QAAO;WACE,MAAM,OAAO,OAAO,MAAM,KAAK,KAAK;AAC7C,UAAO,MAAM;AACb,SAAM,MAAM;AACZ,UAAO;aACE,CAAC,MAAM,OAAO,OAAO,MAAM,yBAAyB,CAC7D,QAAO;WACE,CAAC,MAAM,QAAQ,OAAO,MAAM,OAAO,IAAI,OAAO,MAAM,QAAQ,EACrE,QAAO;WACE,CAAC,MAAM,OAAO,OAAO,MAAM,KAAK,KAAK;AAC9C,SAAM;AACN,UAAO,MAAM;AACb,UAAO;aACE,CAAC,MAAM,OAAO,OAAO,MAAM,oBAAoB,CACxD,QAAO;WACE,CAAC,OAAO,UAAU,CAC3B,QAAO,MAAM;AAEf,SAAO;;CAET,cAAc,EACZ,eAAe,EAAE,MAAM,KAAK,EAC7B;CACF"}