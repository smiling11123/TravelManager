{"version":3,"file":"q-DmOEBbmj.js","names":[],"sources":["../../@codemirror/legacy-modes/mode/q.js"],"sourcesContent":["var curPunc,\n    keywords=buildRE([\"abs\",\"acos\",\"aj\",\"aj0\",\"all\",\"and\",\"any\",\"asc\",\"asin\",\"asof\",\"atan\",\"attr\",\"avg\",\"avgs\",\"bin\",\"by\",\"ceiling\",\"cols\",\"cor\",\"cos\",\"count\",\"cov\",\"cross\",\"csv\",\"cut\",\"delete\",\"deltas\",\"desc\",\"dev\",\"differ\",\"distinct\",\"div\",\"do\",\"each\",\"ej\",\"enlist\",\"eval\",\"except\",\"exec\",\"exit\",\"exp\",\"fby\",\"fills\",\"first\",\"fkeys\",\"flip\",\"floor\",\"from\",\"get\",\"getenv\",\"group\",\"gtime\",\"hclose\",\"hcount\",\"hdel\",\"hopen\",\"hsym\",\"iasc\",\"idesc\",\"if\",\"ij\",\"in\",\"insert\",\"inter\",\"inv\",\"key\",\"keys\",\"last\",\"like\",\"list\",\"lj\",\"load\",\"log\",\"lower\",\"lsq\",\"ltime\",\"ltrim\",\"mavg\",\"max\",\"maxs\",\"mcount\",\"md5\",\"mdev\",\"med\",\"meta\",\"min\",\"mins\",\"mmax\",\"mmin\",\"mmu\",\"mod\",\"msum\",\"neg\",\"next\",\"not\",\"null\",\"or\",\"over\",\"parse\",\"peach\",\"pj\",\"plist\",\"prd\",\"prds\",\"prev\",\"prior\",\"rand\",\"rank\",\"ratios\",\"raze\",\"read0\",\"read1\",\"reciprocal\",\"reverse\",\"rload\",\"rotate\",\"rsave\",\"rtrim\",\"save\",\"scan\",\"select\",\"set\",\"setenv\",\"show\",\"signum\",\"sin\",\"sqrt\",\"ss\",\"ssr\",\"string\",\"sublist\",\"sum\",\"sums\",\"sv\",\"system\",\"tables\",\"tan\",\"til\",\"trim\",\"txf\",\"type\",\"uj\",\"ungroup\",\"union\",\"update\",\"upper\",\"upsert\",\"value\",\"var\",\"view\",\"views\",\"vs\",\"wavg\",\"where\",\"where\",\"while\",\"within\",\"wj\",\"wj1\",\"wsum\",\"xasc\",\"xbar\",\"xcol\",\"xcols\",\"xdesc\",\"xexp\",\"xgroup\",\"xkey\",\"xlog\",\"xprev\",\"xrank\"]),\n    E=/[|/&^!+:\\\\\\-*%$=~#;@><,?_\\'\\\"\\[\\(\\]\\)\\s{}]/;\nfunction buildRE(w){return new RegExp(\"^(\"+w.join(\"|\")+\")$\");}\nfunction tokenBase(stream,state){\n  var sol=stream.sol(),c=stream.next();\n  curPunc=null;\n  if(sol)\n    if(c==\"/\")\n      return(state.tokenize=tokenLineComment)(stream,state);\n  else if(c==\"\\\\\"){\n    if(stream.eol()||/\\s/.test(stream.peek()))\n      return stream.skipToEnd(),/^\\\\\\s*$/.test(stream.current())?(state.tokenize=tokenCommentToEOF)(stream):state.tokenize=tokenBase,\"comment\";\n    else\n      return state.tokenize=tokenBase,\"builtin\";\n  }\n  if(/\\s/.test(c))\n    return stream.peek()==\"/\"?(stream.skipToEnd(),\"comment\"):\"null\";\n  if(c=='\"')\n    return(state.tokenize=tokenString)(stream,state);\n  if(c=='`')\n    return stream.eatWhile(/[A-Za-z\\d_:\\/.]/),\"macroName\";\n  if((\".\"==c&&/\\d/.test(stream.peek()))||/\\d/.test(c)){\n    var t=null;\n    stream.backUp(1);\n    if(stream.match(/^\\d{4}\\.\\d{2}(m|\\.\\d{2}([DT](\\d{2}(:\\d{2}(:\\d{2}(\\.\\d{1,9})?)?)?)?)?)/)\n       || stream.match(/^\\d+D(\\d{2}(:\\d{2}(:\\d{2}(\\.\\d{1,9})?)?)?)/)\n       || stream.match(/^\\d{2}:\\d{2}(:\\d{2}(\\.\\d{1,9})?)?/)\n       || stream.match(/^\\d+[ptuv]{1}/))\n      t=\"temporal\";\n    else if(stream.match(/^0[NwW]{1}/)\n            || stream.match(/^0x[\\da-fA-F]*/)\n            || stream.match(/^[01]+[b]{1}/)\n            || stream.match(/^\\d+[chijn]{1}/)\n            || stream.match(/-?\\d*(\\.\\d*)?(e[+\\-]?\\d+)?(e|f)?/))\n      t=\"number\";\n    return(t&&(!(c=stream.peek())||E.test(c)))?t:(stream.next(),\"error\");\n  }\n  if(/[A-Za-z]|\\./.test(c))\n    return stream.eatWhile(/[A-Za-z._\\d]/),keywords.test(stream.current())?\"keyword\":\"variable\";\n  if(/[|/&^!+:\\\\\\-*%$=~#;@><\\.,?_\\']/.test(c))\n    return null;\n  if(/[{}\\(\\[\\]\\)]/.test(c))\n    return null;\n  return\"error\";\n}\nfunction tokenLineComment(stream,state){\n  return stream.skipToEnd(),/^\\/\\s*$/.test(stream.current())?(state.tokenize=tokenBlockComment)(stream,state):(state.tokenize=tokenBase),\"comment\";\n}\nfunction tokenBlockComment(stream,state){\n  var f=stream.sol()&&stream.peek()==\"\\\\\";\n  stream.skipToEnd();\n  if(f&&/^\\\\\\s*$/.test(stream.current()))\n    state.tokenize=tokenBase;\n  return\"comment\";\n}\nfunction tokenCommentToEOF(stream){return stream.skipToEnd(),\"comment\";}\nfunction tokenString(stream,state){\n  var escaped=false,next,end=false;\n  while((next=stream.next())){\n    if(next==\"\\\"\"&&!escaped){end=true;break;}\n    escaped=!escaped&&next==\"\\\\\";\n  }\n  if(end)state.tokenize=tokenBase;\n  return\"string\";\n}\nfunction pushContext(state,type,col){state.context={prev:state.context,indent:state.indent,col:col,type:type};}\nfunction popContext(state){state.indent=state.context.indent;state.context=state.context.prev;}\nexport const q = {\n  name: \"q\",\n  startState:function(){\n    return{tokenize:tokenBase,\n           context:null,\n           indent:0,\n           col:0};\n  },\n  token:function(stream,state){\n    if(stream.sol()){\n      if(state.context&&state.context.align==null)\n        state.context.align=false;\n      state.indent=stream.indentation();\n    }\n    //if (stream.eatSpace()) return null;\n    var style=state.tokenize(stream,state);\n    if(style!=\"comment\"&&state.context&&state.context.align==null&&state.context.type!=\"pattern\"){\n      state.context.align=true;\n    }\n    if(curPunc==\"(\")pushContext(state,\")\",stream.column());\n    else if(curPunc==\"[\")pushContext(state,\"]\",stream.column());\n    else if(curPunc==\"{\")pushContext(state,\"}\",stream.column());\n    else if(/[\\]\\}\\)]/.test(curPunc)){\n      while(state.context&&state.context.type==\"pattern\")popContext(state);\n      if(state.context&&curPunc==state.context.type)popContext(state);\n    }\n    else if(curPunc==\".\"&&state.context&&state.context.type==\"pattern\")popContext(state);\n    else if(/atom|string|variable/.test(style)&&state.context){\n      if(/[\\}\\]]/.test(state.context.type))\n        pushContext(state,\"pattern\",stream.column());\n      else if(state.context.type==\"pattern\"&&!state.context.align){\n        state.context.align=true;\n        state.context.col=stream.column();\n      }\n    }\n    return style;\n  },\n  indent:function(state,textAfter,cx){\n    var firstChar=textAfter&&textAfter.charAt(0);\n    var context=state.context;\n    if(/[\\]\\}]/.test(firstChar))\n      while (context&&context.type==\"pattern\")context=context.prev;\n    var closing=context&&firstChar==context.type;\n    if(!context)\n      return 0;\n    else if(context.type==\"pattern\")\n      return context.col;\n    else if(context.align)\n      return context.col+(closing?0:1);\n    else\n      return context.indent+(closing?0:cx.unit);\n  },\n  languageData: {\n    commentTokens: { line: \"/\" },\n  },\n};\n"],"mappings":";AAAA,IAAI,SACA,WAAS,QAAQ;CAAC;CAAM;CAAO;CAAK;CAAM;CAAM;CAAM;CAAM;CAAM;CAAO;CAAO;CAAO;CAAO;CAAM;CAAO;CAAM;CAAK;CAAU;CAAO;CAAM;CAAM;CAAQ;CAAM;CAAQ;CAAM;CAAM;CAAS;CAAS;CAAO;CAAM;CAAS;CAAW;CAAM;CAAK;CAAO;CAAK;CAAS;CAAO;CAAS;CAAO;CAAO;CAAM;CAAM;CAAQ;CAAQ;CAAQ;CAAO;CAAQ;CAAO;CAAM;CAAS;CAAQ;CAAQ;CAAS;CAAS;CAAO;CAAQ;CAAO;CAAO;CAAQ;CAAK;CAAK;CAAK;CAAS;CAAQ;CAAM;CAAM;CAAO;CAAO;CAAO;CAAO;CAAK;CAAO;CAAM;CAAQ;CAAM;CAAQ;CAAQ;CAAO;CAAM;CAAO;CAAS;CAAM;CAAO;CAAM;CAAO;CAAM;CAAO;CAAO;CAAO;CAAM;CAAM;CAAO;CAAM;CAAO;CAAM;CAAO;CAAK;CAAO;CAAQ;CAAQ;CAAK;CAAQ;CAAM;CAAO;CAAO;CAAQ;CAAO;CAAO;CAAS;CAAO;CAAQ;CAAQ;CAAa;CAAU;CAAQ;CAAS;CAAQ;CAAQ;CAAO;CAAO;CAAS;CAAM;CAAS;CAAO;CAAS;CAAM;CAAO;CAAK;CAAM;CAAS;CAAU;CAAM;CAAO;CAAK;CAAS;CAAS;CAAM;CAAM;CAAO;CAAM;CAAO;CAAK;CAAU;CAAQ;CAAS;CAAQ;CAAS;CAAQ;CAAM;CAAO;CAAQ;CAAK;CAAO;CAAQ;CAAQ;CAAQ;CAAS;CAAK;CAAM;CAAO;CAAO;CAAO;CAAO;CAAQ;CAAQ;CAAO;CAAS;CAAO;CAAO;CAAQ;CAAQ,CAAC,EAC9tC,IAAE;AACN,SAAS,QAAQ,GAAE;AAAC,wBAAO,IAAI,OAAO,OAAK,EAAE,KAAK,IAAI,GAAC,KAAK;;AAC5D,SAAS,UAAU,QAAO,OAAM;CAC9B,IAAI,MAAI,OAAO,KAAK,EAAC,IAAE,OAAO,MAAM;AACpC,WAAQ;AACR,KAAG,KACD;MAAG,KAAG,IACJ,SAAO,MAAM,WAAS,kBAAkB,QAAO,MAAM;WACjD,KAAG,KACT,KAAG,OAAO,KAAK,IAAE,KAAK,KAAK,OAAO,MAAM,CAAC,CACvC,QAAO,OAAO,WAAW,EAAC,UAAU,KAAK,OAAO,SAAS,CAAC,IAAE,MAAM,WAAS,mBAAmB,OAAO,GAAC,MAAM,WAAS,WAAU;MAE/H,QAAO,MAAM,WAAS,WAAU;;AAEpC,KAAG,KAAK,KAAK,EAAE,CACb,QAAO,OAAO,MAAM,IAAE,OAAK,OAAO,WAAW,EAAC,aAAW;AAC3D,KAAG,KAAG,KACJ,SAAO,MAAM,WAAS,aAAa,QAAO,MAAM;AAClD,KAAG,KAAG,IACJ,QAAO,OAAO,SAAS,kBAAkB,EAAC;AAC5C,KAAI,OAAK,KAAG,KAAK,KAAK,OAAO,MAAM,CAAC,IAAG,KAAK,KAAK,EAAE,EAAC;EAClD,IAAI,IAAE;AACN,SAAO,OAAO,EAAE;AAChB,MAAG,OAAO,MAAM,wEAAwE,IAClF,OAAO,MAAM,6CAA6C,IAC1D,OAAO,MAAM,oCAAoC,IACjD,OAAO,MAAM,gBAAgB,CACjC,KAAE;WACI,OAAO,MAAM,aAAa,IACvB,OAAO,MAAM,iBAAiB,IAC9B,OAAO,MAAM,eAAe,IAC5B,OAAO,MAAM,iBAAiB,IAC9B,OAAO,MAAM,mCAAmC,CACzD,KAAE;AACJ,SAAO,MAAI,EAAE,IAAE,OAAO,MAAM,KAAG,EAAE,KAAK,EAAE,IAAG,KAAG,OAAO,MAAM,EAAC;;AAE9D,KAAG,cAAc,KAAK,EAAE,CACtB,QAAO,OAAO,SAAS,eAAe,EAAC,SAAS,KAAK,OAAO,SAAS,CAAC,GAAC,YAAU;AACnF,KAAG,iCAAiC,KAAK,EAAE,CACzC,QAAO;AACT,KAAG,eAAe,KAAK,EAAE,CACvB,QAAO;AACT,QAAM;;AAER,SAAS,iBAAiB,QAAO,OAAM;AACrC,QAAO,OAAO,WAAW,EAAC,UAAU,KAAK,OAAO,SAAS,CAAC,IAAE,MAAM,WAAS,mBAAmB,QAAO,MAAM,GAAE,MAAM,WAAS,WAAW;;AAEzI,SAAS,kBAAkB,QAAO,OAAM;CACtC,IAAI,IAAE,OAAO,KAAK,IAAE,OAAO,MAAM,IAAE;AACnC,QAAO,WAAW;AAClB,KAAG,KAAG,UAAU,KAAK,OAAO,SAAS,CAAC,CACpC,OAAM,WAAS;AACjB,QAAM;;AAER,SAAS,kBAAkB,QAAO;AAAC,QAAO,OAAO,WAAW,EAAC;;AAC7D,SAAS,YAAY,QAAO,OAAM;CAChC,IAAI,UAAQ,OAAM,MAAK,MAAI;AAC3B,QAAO,OAAK,OAAO,MAAM,EAAE;AACzB,MAAG,QAAM,QAAM,CAAC,SAAQ;AAAC,SAAI;AAAK;;AAClC,YAAQ,CAAC,WAAS,QAAM;;AAE1B,KAAG,IAAI,OAAM,WAAS;AACtB,QAAM;;AAER,SAAS,YAAY,OAAM,MAAK,KAAI;AAAC,OAAM,UAAQ;EAAC,MAAK,MAAM;EAAQ,QAAO,MAAM;EAAW;EAAS;EAAK;;AAC7G,SAAS,WAAW,OAAM;AAAC,OAAM,SAAO,MAAM,QAAQ;AAAO,OAAM,UAAQ,MAAM,QAAQ;;AACzF,MAAa,IAAI;CACf,MAAM;CACN,YAAW,WAAU;AACnB,SAAM;GAAC,UAAS;GACT,SAAQ;GACR,QAAO;GACP,KAAI;GAAE;;CAEf,OAAM,SAAS,QAAO,OAAM;AAC1B,MAAG,OAAO,KAAK,EAAC;AACd,OAAG,MAAM,WAAS,MAAM,QAAQ,SAAO,KACrC,OAAM,QAAQ,QAAM;AACtB,SAAM,SAAO,OAAO,aAAa;;EAGnC,IAAI,QAAM,MAAM,SAAS,QAAO,MAAM;AACtC,MAAG,SAAO,aAAW,MAAM,WAAS,MAAM,QAAQ,SAAO,QAAM,MAAM,QAAQ,QAAM,UACjF,OAAM,QAAQ,QAAM;AAEtB,MAAG,WAAS,IAAI,aAAY,OAAM,KAAI,OAAO,QAAQ,CAAC;WAC9C,WAAS,IAAI,aAAY,OAAM,KAAI,OAAO,QAAQ,CAAC;WACnD,WAAS,IAAI,aAAY,OAAM,KAAI,OAAO,QAAQ,CAAC;WACnD,WAAW,KAAK,QAAQ,EAAC;AAC/B,UAAM,MAAM,WAAS,MAAM,QAAQ,QAAM,UAAU,YAAW,MAAM;AACpE,OAAG,MAAM,WAAS,WAAS,MAAM,QAAQ,KAAK,YAAW,MAAM;aAEzD,WAAS,OAAK,MAAM,WAAS,MAAM,QAAQ,QAAM,UAAU,YAAW,MAAM;WAC5E,uBAAuB,KAAK,MAAM,IAAE,MAAM,SAChD;OAAG,SAAS,KAAK,MAAM,QAAQ,KAAK,CAClC,aAAY,OAAM,WAAU,OAAO,QAAQ,CAAC;YACtC,MAAM,QAAQ,QAAM,aAAW,CAAC,MAAM,QAAQ,OAAM;AAC1D,UAAM,QAAQ,QAAM;AACpB,UAAM,QAAQ,MAAI,OAAO,QAAQ;;;AAGrC,SAAO;;CAET,QAAO,SAAS,OAAM,WAAU,IAAG;EACjC,IAAI,YAAU,aAAW,UAAU,OAAO,EAAE;EAC5C,IAAI,UAAQ,MAAM;AAClB,MAAG,SAAS,KAAK,UAAU,CACzB,QAAO,WAAS,QAAQ,QAAM,UAAU,WAAQ,QAAQ;EAC1D,IAAI,UAAQ,WAAS,aAAW,QAAQ;AACxC,MAAG,CAAC,QACF,QAAO;WACD,QAAQ,QAAM,UACpB,QAAO,QAAQ;WACT,QAAQ,MACd,QAAO,QAAQ,OAAK,UAAQ,IAAE;MAE9B,QAAO,QAAQ,UAAQ,UAAQ,IAAE,GAAG;;CAExC,cAAc,EACZ,eAAe,EAAE,MAAM,KAAK,EAC7B;CACF"}