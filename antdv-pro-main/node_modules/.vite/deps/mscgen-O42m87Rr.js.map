{"version":3,"file":"mscgen-O42m87Rr.js","names":[],"sources":["../../@codemirror/legacy-modes/mode/mscgen.js"],"sourcesContent":["function mkParser(lang) {\n  return {\n    name: \"mscgen\",\n    startState: startStateFn,\n    copyState: copyStateFn,\n    token: produceTokenFunction(lang),\n    languageData: {\n      commentTokens: {line: \"#\", block: {open: \"/*\", close: \"*/\"}}\n    }\n  }\n}\n\nexport const mscgen = mkParser({\n  \"keywords\" : [\"msc\"],\n  \"options\" : [\"hscale\", \"width\", \"arcgradient\", \"wordwraparcs\"],\n  \"constants\" : [\"true\", \"false\", \"on\", \"off\"],\n  \"attributes\" : [\"label\", \"idurl\", \"id\", \"url\", \"linecolor\", \"linecolour\", \"textcolor\", \"textcolour\", \"textbgcolor\", \"textbgcolour\", \"arclinecolor\", \"arclinecolour\", \"arctextcolor\", \"arctextcolour\", \"arctextbgcolor\", \"arctextbgcolour\", \"arcskip\"],\n  \"brackets\" : [\"\\\\{\", \"\\\\}\"], // [ and  ] are brackets too, but these get handled in with lists\n  \"arcsWords\" : [\"note\", \"abox\", \"rbox\", \"box\"],\n  \"arcsOthers\" : [\"\\\\|\\\\|\\\\|\", \"\\\\.\\\\.\\\\.\", \"---\", \"--\", \"<->\", \"==\", \"<<=>>\", \"<=>\", \"\\\\.\\\\.\", \"<<>>\", \"::\", \"<:>\", \"->\", \"=>>\", \"=>\", \">>\", \":>\", \"<-\", \"<<=\", \"<=\", \"<<\", \"<:\", \"x-\", \"-x\"],\n  \"singlecomment\" : [\"//\", \"#\"],\n  \"operators\" : [\"=\"]\n})\n\nexport const msgenny = mkParser({\n  \"keywords\" : null,\n  \"options\" : [\"hscale\", \"width\", \"arcgradient\", \"wordwraparcs\", \"wordwrapentities\", \"watermark\"],\n  \"constants\" : [\"true\", \"false\", \"on\", \"off\", \"auto\"],\n  \"attributes\" : null,\n  \"brackets\" : [\"\\\\{\", \"\\\\}\"],\n  \"arcsWords\" : [\"note\", \"abox\", \"rbox\", \"box\", \"alt\", \"else\", \"opt\", \"break\", \"par\", \"seq\", \"strict\", \"neg\", \"critical\", \"ignore\", \"consider\", \"assert\", \"loop\", \"ref\", \"exc\"],\n  \"arcsOthers\" : [\"\\\\|\\\\|\\\\|\", \"\\\\.\\\\.\\\\.\", \"---\", \"--\", \"<->\", \"==\", \"<<=>>\", \"<=>\", \"\\\\.\\\\.\", \"<<>>\", \"::\", \"<:>\", \"->\", \"=>>\", \"=>\", \">>\", \":>\", \"<-\", \"<<=\", \"<=\", \"<<\", \"<:\", \"x-\", \"-x\"],\n  \"singlecomment\" : [\"//\", \"#\"],\n  \"operators\" : [\"=\"]\n})\n\nexport const xu = mkParser({\n  \"keywords\" : [\"msc\", \"xu\"],\n  \"options\" : [\"hscale\", \"width\", \"arcgradient\", \"wordwraparcs\", \"wordwrapentities\", \"watermark\"],\n  \"constants\" : [\"true\", \"false\", \"on\", \"off\", \"auto\"],\n  \"attributes\" : [\"label\", \"idurl\", \"id\", \"url\", \"linecolor\", \"linecolour\", \"textcolor\", \"textcolour\", \"textbgcolor\", \"textbgcolour\", \"arclinecolor\", \"arclinecolour\", \"arctextcolor\", \"arctextcolour\", \"arctextbgcolor\", \"arctextbgcolour\", \"arcskip\", \"title\", \"deactivate\", \"activate\", \"activation\"],\n  \"brackets\" : [\"\\\\{\", \"\\\\}\"],  // [ and  ] are brackets too, but these get handled in with lists\n  \"arcsWords\" : [\"note\", \"abox\", \"rbox\", \"box\", \"alt\", \"else\", \"opt\", \"break\", \"par\", \"seq\", \"strict\", \"neg\", \"critical\", \"ignore\", \"consider\", \"assert\", \"loop\", \"ref\", \"exc\"],\n  \"arcsOthers\" : [\"\\\\|\\\\|\\\\|\", \"\\\\.\\\\.\\\\.\", \"---\", \"--\", \"<->\", \"==\", \"<<=>>\", \"<=>\", \"\\\\.\\\\.\", \"<<>>\", \"::\", \"<:>\", \"->\", \"=>>\", \"=>\", \">>\", \":>\", \"<-\", \"<<=\", \"<=\", \"<<\", \"<:\", \"x-\", \"-x\"],\n  \"singlecomment\" : [\"//\", \"#\"],\n  \"operators\" : [\"=\"]\n})\n\nfunction wordRegexpBoundary(pWords) {\n  return new RegExp(\"^\\\\b(\" + pWords.join(\"|\") + \")\\\\b\", \"i\");\n}\n\nfunction wordRegexp(pWords) {\n  return new RegExp(\"^(?:\" + pWords.join(\"|\") + \")\", \"i\");\n}\n\nfunction startStateFn() {\n  return {\n    inComment : false,\n    inString : false,\n    inAttributeList : false,\n    inScript : false\n  };\n}\n\nfunction copyStateFn(pState) {\n  return {\n    inComment : pState.inComment,\n    inString : pState.inString,\n    inAttributeList : pState.inAttributeList,\n    inScript : pState.inScript\n  };\n}\n\nfunction produceTokenFunction(pConfig) {\n  return function(pStream, pState) {\n    if (pStream.match(wordRegexp(pConfig.brackets), true, true)) {\n      return \"bracket\";\n    }\n    /* comments */\n    if (!pState.inComment) {\n      if (pStream.match(/\\/\\*[^\\*\\/]*/, true, true)) {\n        pState.inComment = true;\n        return \"comment\";\n      }\n      if (pStream.match(wordRegexp(pConfig.singlecomment), true, true)) {\n        pStream.skipToEnd();\n        return \"comment\";\n      }\n    }\n    if (pState.inComment) {\n      if (pStream.match(/[^\\*\\/]*\\*\\//, true, true))\n        pState.inComment = false;\n      else\n        pStream.skipToEnd();\n      return \"comment\";\n    }\n    /* strings */\n    if (!pState.inString && pStream.match(/\\\"(\\\\\\\"|[^\\\"])*/, true, true)) {\n      pState.inString = true;\n      return \"string\";\n    }\n    if (pState.inString) {\n      if (pStream.match(/[^\\\"]*\\\"/, true, true))\n        pState.inString = false;\n      else\n        pStream.skipToEnd();\n      return \"string\";\n    }\n    /* keywords & operators */\n    if (!!pConfig.keywords && pStream.match(wordRegexpBoundary(pConfig.keywords), true, true))\n      return \"keyword\";\n\n    if (pStream.match(wordRegexpBoundary(pConfig.options), true, true))\n      return \"keyword\";\n\n    if (pStream.match(wordRegexpBoundary(pConfig.arcsWords), true, true))\n      return \"keyword\";\n\n    if (pStream.match(wordRegexp(pConfig.arcsOthers), true, true))\n      return \"keyword\";\n\n    if (!!pConfig.operators && pStream.match(wordRegexp(pConfig.operators), true, true))\n      return \"operator\";\n\n    if (!!pConfig.constants && pStream.match(wordRegexp(pConfig.constants), true, true))\n      return \"variable\";\n\n    /* attribute lists */\n    if (!pConfig.inAttributeList && !!pConfig.attributes && pStream.match('[', true, true)) {\n      pConfig.inAttributeList = true;\n      return \"bracket\";\n    }\n    if (pConfig.inAttributeList) {\n      if (pConfig.attributes !== null && pStream.match(wordRegexpBoundary(pConfig.attributes), true, true)) {\n        return \"attribute\";\n      }\n      if (pStream.match(']', true, true)) {\n        pConfig.inAttributeList = false;\n        return \"bracket\";\n      }\n    }\n\n    pStream.next();\n    return null\n  };\n}\n"],"mappings":"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"}