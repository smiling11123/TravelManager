{"version":3,"file":"solr-C2djISkc.js","names":[],"sources":["../../@codemirror/legacy-modes/mode/solr.js"],"sourcesContent":["var isStringChar = /[^\\s\\|\\!\\+\\-\\*\\?\\~\\^\\&\\:\\(\\)\\[\\]\\{\\}\\\"\\\\]/;\nvar isOperatorChar = /[\\|\\!\\+\\-\\*\\?\\~\\^\\&]/;\nvar isOperatorString = /^(OR|AND|NOT|TO)$/;\n\nfunction isNumber(word) {\n  return parseFloat(word).toString() === word;\n}\n\nfunction tokenString(quote) {\n  return function(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (next == quote && !escaped) break;\n      escaped = !escaped && next == \"\\\\\";\n    }\n\n    if (!escaped) state.tokenize = tokenBase;\n    return \"string\";\n  };\n}\n\nfunction tokenOperator(operator) {\n  return function(stream, state) {\n    if (operator == \"|\")\n      stream.eat(/\\|/);\n    else if (operator == \"&\")\n      stream.eat(/\\&/);\n\n    state.tokenize = tokenBase;\n    return \"operator\";\n  };\n}\n\nfunction tokenWord(ch) {\n  return function(stream, state) {\n    var word = ch;\n    while ((ch = stream.peek()) && ch.match(isStringChar) != null) {\n      word += stream.next();\n    }\n\n    state.tokenize = tokenBase;\n    if (isOperatorString.test(word))\n      return \"operator\";\n    else if (isNumber(word))\n      return \"number\";\n    else if (stream.peek() == \":\")\n      return \"propertyName\";\n    else\n      return \"string\";\n  };\n}\n\nfunction tokenBase(stream, state) {\n  var ch = stream.next();\n  if (ch == '\"')\n    state.tokenize = tokenString(ch);\n  else if (isOperatorChar.test(ch))\n    state.tokenize = tokenOperator(ch);\n  else if (isStringChar.test(ch))\n    state.tokenize = tokenWord(ch);\n\n  return (state.tokenize != tokenBase) ? state.tokenize(stream, state) : null;\n}\n\nexport const solr = {\n  name: \"solr\",\n\n  startState: function() {\n    return {\n      tokenize: tokenBase\n    };\n  },\n\n  token: function(stream, state) {\n    if (stream.eatSpace()) return null;\n    return state.tokenize(stream, state);\n  }\n};\n"],"mappings":";AAAA,IAAI,eAAe;AACnB,IAAI,iBAAiB;AACrB,IAAI,mBAAmB;AAEvB,SAAS,SAAS,MAAM;AACtB,QAAO,WAAW,KAAK,CAAC,UAAU,KAAK;;AAGzC,SAAS,YAAY,OAAO;AAC1B,QAAO,SAAS,QAAQ,OAAO;EAC7B,IAAI,UAAU,OAAO;AACrB,UAAQ,OAAO,OAAO,MAAM,KAAK,MAAM;AACrC,OAAI,QAAQ,SAAS,CAAC,QAAS;AAC/B,aAAU,CAAC,WAAW,QAAQ;;AAGhC,MAAI,CAAC,QAAS,OAAM,WAAW;AAC/B,SAAO;;;AAIX,SAAS,cAAc,UAAU;AAC/B,QAAO,SAAS,QAAQ,OAAO;AAC7B,MAAI,YAAY,IACd,QAAO,IAAI,KAAK;WACT,YAAY,IACnB,QAAO,IAAI,KAAK;AAElB,QAAM,WAAW;AACjB,SAAO;;;AAIX,SAAS,UAAU,IAAI;AACrB,QAAO,SAAS,QAAQ,OAAO;EAC7B,IAAI,OAAO;AACX,UAAQ,KAAK,OAAO,MAAM,KAAK,GAAG,MAAM,aAAa,IAAI,KACvD,SAAQ,OAAO,MAAM;AAGvB,QAAM,WAAW;AACjB,MAAI,iBAAiB,KAAK,KAAK,CAC7B,QAAO;WACA,SAAS,KAAK,CACrB,QAAO;WACA,OAAO,MAAM,IAAI,IACxB,QAAO;MAEP,QAAO;;;AAIb,SAAS,UAAU,QAAQ,OAAO;CAChC,IAAI,KAAK,OAAO,MAAM;AACtB,KAAI,MAAM,KACR,OAAM,WAAW,YAAY,GAAG;UACzB,eAAe,KAAK,GAAG,CAC9B,OAAM,WAAW,cAAc,GAAG;UAC3B,aAAa,KAAK,GAAG,CAC5B,OAAM,WAAW,UAAU,GAAG;AAEhC,QAAQ,MAAM,YAAY,YAAa,MAAM,SAAS,QAAQ,MAAM,GAAG;;AAGzE,MAAa,OAAO;CAClB,MAAM;CAEN,YAAY,WAAW;AACrB,SAAO,EACL,UAAU,WACX;;CAGH,OAAO,SAAS,QAAQ,OAAO;AAC7B,MAAI,OAAO,UAAU,CAAE,QAAO;AAC9B,SAAO,MAAM,SAAS,QAAQ,MAAM;;CAEvC"}