{"version":3,"file":"esm-fOYbT77j.js","names":[],"sources":["../../@vue/devtools-api/lib/esm/env.js","../../@vue/devtools-api/lib/esm/const.js","../../@vue/devtools-api/lib/esm/time.js","../../@vue/devtools-api/lib/esm/proxy.js","../../@vue/devtools-api/lib/esm/index.js"],"sourcesContent":["export function getDevtoolsGlobalHook() {\n    return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;\n}\nexport function getTarget() {\n    // @ts-expect-error navigator and windows are not available in all environments\n    return (typeof navigator !== 'undefined' && typeof window !== 'undefined')\n        ? window\n        : typeof globalThis !== 'undefined'\n            ? globalThis\n            : {};\n}\nexport const isProxyAvailable = typeof Proxy === 'function';\n","export const HOOK_SETUP = 'devtools-plugin:setup';\nexport const HOOK_PLUGIN_SETTINGS_SET = 'plugin:settings:set';\n","let supported;\nlet perf;\nexport function isPerformanceSupported() {\n    var _a;\n    if (supported !== undefined) {\n        return supported;\n    }\n    if (typeof window !== 'undefined' && window.performance) {\n        supported = true;\n        perf = window.performance;\n    }\n    else if (typeof globalThis !== 'undefined' && ((_a = globalThis.perf_hooks) === null || _a === void 0 ? void 0 : _a.performance)) {\n        supported = true;\n        perf = globalThis.perf_hooks.performance;\n    }\n    else {\n        supported = false;\n    }\n    return supported;\n}\nexport function now() {\n    return isPerformanceSupported() ? perf.now() : Date.now();\n}\n","import { HOOK_PLUGIN_SETTINGS_SET } from './const.js';\nimport { now } from './time.js';\nexport class ApiProxy {\n    constructor(plugin, hook) {\n        this.target = null;\n        this.targetQueue = [];\n        this.onQueue = [];\n        this.plugin = plugin;\n        this.hook = hook;\n        const defaultSettings = {};\n        if (plugin.settings) {\n            for (const id in plugin.settings) {\n                const item = plugin.settings[id];\n                defaultSettings[id] = item.defaultValue;\n            }\n        }\n        const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;\n        let currentSettings = Object.assign({}, defaultSettings);\n        try {\n            const raw = localStorage.getItem(localSettingsSaveId);\n            const data = JSON.parse(raw);\n            Object.assign(currentSettings, data);\n        }\n        catch (e) {\n            // noop\n        }\n        this.fallbacks = {\n            getSettings() {\n                return currentSettings;\n            },\n            setSettings(value) {\n                try {\n                    localStorage.setItem(localSettingsSaveId, JSON.stringify(value));\n                }\n                catch (e) {\n                    // noop\n                }\n                currentSettings = value;\n            },\n            now() {\n                return now();\n            },\n        };\n        if (hook) {\n            hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {\n                if (pluginId === this.plugin.id) {\n                    this.fallbacks.setSettings(value);\n                }\n            });\n        }\n        this.proxiedOn = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target.on[prop];\n                }\n                else {\n                    return (...args) => {\n                        this.onQueue.push({\n                            method: prop,\n                            args,\n                        });\n                    };\n                }\n            },\n        });\n        this.proxiedTarget = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target[prop];\n                }\n                else if (prop === 'on') {\n                    return this.proxiedOn;\n                }\n                else if (Object.keys(this.fallbacks).includes(prop)) {\n                    return (...args) => {\n                        this.targetQueue.push({\n                            method: prop,\n                            args,\n                            resolve: () => { },\n                        });\n                        return this.fallbacks[prop](...args);\n                    };\n                }\n                else {\n                    return (...args) => {\n                        return new Promise((resolve) => {\n                            this.targetQueue.push({\n                                method: prop,\n                                args,\n                                resolve,\n                            });\n                        });\n                    };\n                }\n            },\n        });\n    }\n    async setRealTarget(target) {\n        this.target = target;\n        for (const item of this.onQueue) {\n            this.target.on[item.method](...item.args);\n        }\n        for (const item of this.targetQueue) {\n            item.resolve(await this.target[item.method](...item.args));\n        }\n    }\n}\n","import { getDevtoolsGlobalHook, getTarget, isProxyAvailable } from './env.js';\nimport { HOOK_SETUP } from './const.js';\nimport { ApiProxy } from './proxy.js';\nexport * from './api/index.js';\nexport * from './plugin.js';\nexport * from './time.js';\nexport function setupDevtoolsPlugin(pluginDescriptor, setupFn) {\n    const descriptor = pluginDescriptor;\n    const target = getTarget();\n    const hook = getDevtoolsGlobalHook();\n    const enableProxy = isProxyAvailable && descriptor.enableEarlyProxy;\n    if (hook && (target.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__ || !enableProxy)) {\n        hook.emit(HOOK_SETUP, pluginDescriptor, setupFn);\n    }\n    else {\n        const proxy = enableProxy ? new ApiProxy(descriptor, hook) : null;\n        const list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];\n        list.push({\n            pluginDescriptor: descriptor,\n            setupFn,\n            proxy,\n        });\n        if (proxy) {\n            setupFn(proxy.proxiedTarget);\n        }\n    }\n}\n"],"mappings":"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"}